service: 
  name: 'new-leaderboard'

frameworkVersion: '2'

custom: 
  webpack: 
    webpackConfig: './webpack.config.js'
    includeModules: true
  
plugins:
  - serverless-webpack

provider: 
  name: 'aws'
  region: 'us-east-2' # Ohio
  runtime: 'nodejs12.x'
  apiGateway: 
    minimumCompressionSize: 1024
  httpApi:
    payload: '1.0'
  
  environment: 
    AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
    HACKERRANK_AUTH: "puregarbage"
    CONTEST_SLUG: "the-krrg-challenge"
  



functions: 
  leaderboard: 
    handler: 'handler.api'
    events:       
      - httpApi: '*'
